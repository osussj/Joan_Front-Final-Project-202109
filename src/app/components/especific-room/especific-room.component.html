<div class="div-body">
  <escroom-navbar></escroom-navbar>
  <main class="main-room-div">
    <div class="main-room-title">
      <img
        src="https://www.hackthebox.com/storage/avatars/11680a85eaa657026b92b815be86e366.png"
        width="100"
        height="100"
        alt="node image"
      />
      <h2>Node</h2>
      <p>In JavaScript everything is a terrible mistake.</p>
    </div>
    <div class="game-div">
      <div class="game-div--start">
        <p>Start the game</p>
        <button class="button-icon">
          <fa-icon [icon]="faStart" class="icon--send"></fa-icon>
        </button>
      </div>
      <div class="game-div--start">
        <input type="text" disabled placeholder="No answer needed" />
        <button class="button-icon">
          <fa-icon [icon]="faSend" class="icon--send"></fa-icon>
        </button>
      </div>
    </div>
    <div class="question-div">
      <div
        *ngFor="
          let question of storeService.questionSubject$ | async;
          let i = index
        "
        class="question-card"
        id="{{ i }}"
      >
        <h3 *ngIf="value !== i" class="question-card__title">
          {{ question.question }}
        </h3>
        <input
          *ngIf="value === i"
          value="{{ question.question }}"
          (blur)="blurEvent($event)"
        />
        <div class="question-card--description">
          <form [formGroup]="answerForm" (ngSubmit)="onAnswer(question.answer)">
            <input
              type="text"
              placeholder="{{ func(question.answer) }}"
              (blur)="blurAnswerEvent($event)"
            />
            <button class="button-icon" type="submit">
              <fa-icon [icon]="faSend" class="icon--send"></fa-icon>
            </button>
            <button class="button-icon">
              <fa-icon [icon]="faHint" class="icon--hint"></fa-icon>
            </button>
          </form>
        </div>
        <button class="delete-button" (click)="onDelete(question.id)">X</button>
        <button *ngIf="value !== i" class="edit-button" (click)="toEdit(i)">
          <fa-icon [icon]="faEdit" class="icon--edit"></fa-icon>
        </button>
        <button
          *ngIf="value === i"
          class="edit-button"
          (click)="onEdit(question)"
        >
          <fa-icon [icon]="faShare"></fa-icon>
        </button>
      </div>
      <div class="button-add" (click)="toCreate()">ADD</div>
      <div *ngIf="tocreate" class="form-div">
        <form
          [formGroup]="questionForm"
          (ngSubmit)="onCreate()"
          class="signin-form"
        >
          <h2>Submit your question</h2>
          <input
            type="text"
            formControlName="question"
            placeholder="Question"
          />
          <input type="text" formControlName="answer" placeholder="Answer" />
          <input type="text" formControlName="hint" placeholder="Hint" />
          <button [disabled]="questionForm.invalid" class="create-button">
            Create
          </button>
        </form>
      </div>
    </div>
  </main>
</div>
